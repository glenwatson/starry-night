<html>
	<head>
		<style>
			body {
				margin: 0;
				width: 100%;
				height: 100%;
			}
		</style>
	</head>
	<body>
		<canvas id="space">No canvas support</canvas>
		<script>
			var SPEED = 500;
			var NUM_STARS = 1000;
			var canvas = document.getElementById('space');
			canvas.width = document.body.clientWidth;
			canvas.height = document.body.clientHeight;
			var ctx = canvas.getContext('2d');
			
			var stars = [];
			//populate
			for(var i=0; i<NUM_STARS; i++) {
				stars.push({
					x: Math.random() * canvas.width,
					y: Math.random() * canvas.height,
					color: randomColor()
				});
			}	
			
			function tick() {
				console.log('tick');
				//move
				for(var i in stars) {
					var star = stars[i];
					star.x--;
					if (star.x < 0) {
						star.x = canvas.width;
					}
				}
				drawBG();
				drawStars(stars);
			}
			function drawStars(stars) {
				for(var i in stars) {
					ctx.fillStyle = stars[i].color;
					drawStar(stars[i].x, stars[i].y, ctx);
				}
			}
			function drawStar(x, y, ctx) {
				ctx.beginPath();
				ctx.arc(x, y, 2, 0, Math.PI*2, true);
				ctx.fill();
				ctx.closePath();
			}
			function drawBG () {
				ctx.fillStyle = "rgb(0, 0, 0)";
				ctx.fillRect(0, 0, canvas.width, canvas.height);
			}
			function randomColor() {
				return "#"+randomHex()+randomHex()+randomHex()+randomHex()+randomHex()+randomHex();
			}
			function randomHex() {
				return Math.round(Math.random() * 16).toString(16);
			}
			setInterval(tick, SPEED);
		</script>
	</body>
</html>
